@page "/weathers/details"
@using SIMS.Pages.WeatherPages
@inject NavigationManager NavigationManager

<PageTitle>Weather Details</PageTitle>

<div class="container-fluid p-4">
 <div class="d-flex align-items-center mb-4">
 <a href="/weathers" class="btn btn-outline-secondary me-3"><i class="bi bi-arrow-left"></i></a>
 <h1 class="mb-0"><i class="bi bi-info-circle text-primary"></i> Weather Details</h1>
 </div>

 @if (Item is null)
 {
 <div class="card shadow-sm"><div class="card-body">Loading...</div></div>
 }
 else
 {
 <div class="card shadow-sm"><div class="card-body">
 <dl class="row">
 <dt class="col-sm-3">Date</dt><dd class="col-sm-9">@Item.Date</dd>
 <dt class="col-sm-3">Temperature (C)</dt><dd class="col-sm-9">@Item.TemperatureC</dd>
 <dt class="col-sm-3">Summary</dt><dd class="col-sm-9">@Item.Summary</dd>
 </dl>
 <a class="btn btn-outline-secondary" href="/weathers">Back to List</a>
 </div></div>
 }
</div>

@code {
 [SupplyParameterFromQuery]
 public int Id { get; set; }

 private WeatherStore.WeatherItem? Item { get; set; }

 protected override void OnInitialized()
 {
 Item = WeatherStore.GetById(Id);
 if (Item is null) NavigationManager.NavigateTo("notfound");
 }
}
