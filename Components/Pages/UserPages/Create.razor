@page "/weathers/create"
@using SIMS.Pages.WeatherPages
@inject NavigationManager NavigationManager

<PageTitle>Create Weather</PageTitle>

<div class="container-fluid p-4">
 <div class="d-flex align-items-center mb-4">
 <a href="/weathers" class="btn btn-outline-secondary me-3"><i class="bi bi-arrow-left"></i></a>
 <h1 class="mb-0"><i class="bi bi-plus-circle text-primary"></i> Create New Weather</h1>
 </div>

 <div class="row">
 <div class="col-md-6">
 <div class="card shadow-sm">
 <div class="card-body">
 <EditForm Model="Item" OnValidSubmit="CreateItem" FormName="create-weather" method="post">
 <DataAnnotationsValidator />
 <ValidationSummary class="text-danger" />
 <div class="form-floating mb-3">
 <InputDate @bind-Value="Item.Date" class="form-control" />
 <label>Date</label>
 </div>
 <div class="form-floating mb-3">
 <InputNumber @bind-Value="Item.TemperatureC" class="form-control" />
 <label>Temperature (C)</label>
 </div>
 <div class="form-floating mb-3">
 <InputText @bind-Value="Item.Summary" class="form-control" placeholder="Summary" />
 <label>Summary</label>
 </div>
 <div class="d-flex gap-2">
 <button class="btn btn-primary" type="submit">Create</button>
 <a class="btn btn-outline-secondary" href="/weathers">Cancel</a>
 </div>
 </EditForm>
 </div>
 </div>
 </div>
 </div>
</div>

@code {
 private WeatherStore.WeatherItem Item { get; set; } = new();

 private void CreateItem()
 {
 WeatherStore.Add(Item);
 NavigationManager.NavigateTo("/weathers");
 }
}
